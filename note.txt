Prototype:

1. Frontend:

These templates will be implemeted.
a. a simple login template. User A logins to our application by his account to go his dashboard. 
    - dashboard should include 2 sections:
    + a list of users who allow user A to collect their info.
    + a access request link which is given to user B. The user B clicks to this link to give consent for user A
b. user B click to the link that provided by user A, a page with a single button appears, users B click to the button to redirect to singpass authorisation page,
the user B logs in with his account to give consent. then user A can see the User B info.

2. Backend.

APIs:
'/login', methods=[get, post]: a login handler.
'/dashboard/<userId>', methods=[get]: a simple dashboard for a specific user.
'/myinfo/<sessionId>', methods=[get]: a generated link that is provided to user who we want to get consent. sessionId is state parameter to call authorisation api. this link must provide to only one user.
'/callback', methods=[get]: the callback url is sent back from authorisation platform.

3. Database
for simlicity-->using nosql database-->datastore(google cloud)
a. users kind is used to validate user login. 
key: uuid
userName: 
password:
b. sessions kind is used to track the authentication process.
key: uuid. a system generated 
requester: Ex. userA
requestee: Ex. userB
personData: PersonData of userB
nonce: a system generated to avoid replay attack.


4. Security
a. relies on public key and private key below to parse token and jwt
https://github.com/jamesleegovtech/myinfo-demo-app/tree/master/ssl
b. converting https://github.com/jamesleegovtech/myinfo-demo-app/tree/master/lib/security to python.

5. deploy app on google cloud.

a. app engine flex(1st)
b. kubernetes (2nd)


Note:
https://stackoverflow.com/questions/5590170/what-is-the-standard-method-for-generating-a-nonce-in-python
https://stackoverflow.com/questions/47390278/django-auth0-a-bytes-like-object-is-required-not-str-python-3-5-2
https://myinfosgstg.api.gov.sg/dev/v2/person-sample/S9203266C/ 
T0066846F
F9477325W
S9203266C
S8979373D
S8723211E
S8116474F
S5062854Z
password: MyInfo2o15

 509  pip freeze  > requirements.txt 
  510  pip install -t lib -r requirements.txt 
  511  vim requirements.txt 
  512  pip install -t lib -r requirements.txt 
  513  vim requirements.txt 
  514  pip install asn1crypto
  515  pip install -t lib -r requirements.txt 
  516  ls
  517  gcloud info
  518  ls
  519  gcloud auth activate-service-account --key-file key.json
  520  gcloud auth init
  521  gcloud auth list
  522  gcloud app deploy
  523* clear 
  524  gcloud app deploy --project myInfo
  525* gcloud config set project myi
  526  gcloud app deploy --project myinfo
  527  gcloud auth list
  528  history
  529  gcloud auth activate-service-account --key-file=key.json
  530  gcloud auth list
  531  gcloud app deploy 
  532  gcloud app deploy 
  533  gcloud app deploy --project myinfo
  534  gcloud app deploy --project myinfo
  535  gcloud app deploy --project myinfo
  536  gcloud app deploy --project myinfo
  537  gcloud config list
  538  gcloud config set project myinfo
  539  gcloud config list
  540  gcloud app deploy --project myinfo
  541  gcloud app deploy --project myinfo
  542  gcloud app deploy --project myinfo
  543  gcloud app deploy 
  544  gcloud app deploy 
  545  gcloud app deploy 
  546  gcloud app deploy 
  547  ]
  548  gcloud app browse

  baseParams=undefined
baseParamsStr11111=apex_l2_eg_app_id=STG2-MYINFO-SELF-TEST&apex_l2_eg_nonce=155026481633500&apex_l2_eg_signature_method=SHA256withRSA&apex_l2_eg_timestamp=1550264816335&apex_l2_eg_version=1.0&client_id=STG2-MYINFO-SELF-TEST&client_secret=44d953c796cccebcec9bdc826852857ab412fbe2&code=2cd96fa5-265b-4d25-bb0c-96909e3cdf62&grant_type=authorization_code&redirect_uri=http%3A%2F%2Flocalhost%3A3001%2Fcallback
baseParamsStr22222=apex_l2_eg_app_id=STG2-MYINFO-SELF-TEST&apex_l2_eg_nonce=155026481633500&apex_l2_eg_signature_method=SHA256withRSA&apex_l2_eg_timestamp=1550264816335&apex_l2_eg_version=1.0&client_id=STG2-MYINFO-SELF-TEST&client_secret=44d953c796cccebcec9bdc826852857ab412fbe2&code=2cd96fa5-265b-4d25-bb0c-96909e3cdf62&grant_type=authorization_code&redirect_uri=http://localhost:3001/callback
baseString=POST&https://test.api.myinfo.gov.sg/com/v2/token&apex_l2_eg_app_id=STG2-MYINFO-SELF-TEST&apex_l2_eg_nonce=155026481633500&apex_l2_eg_signature_method=SHA256withRSA&apex_l2_eg_timestamp=1550264816335&apex_l2_eg_version=1.0&client_id=STG2-MYINFO-SELF-TEST&client_secret=44d953c796cccebcec9bdc826852857ab412fbe2&code=2cd96fa5-265b-4d25-bb0c-96909e3cdf62&grant_type=authorization_code&redirect_uri=http://localhost:3001/callback
Formulated Base String
Base String generated by your application that will be signed using your private key.
POST&https://test.api.myinfo.gov.sg/com/v2/token&apex_l2_eg_app_id=STG2-MYINFO-SELF-TEST&apex_l2_eg_nonce=155026481633500&apex_l2_eg_signature_method=SHA256withRSA&apex_l2_eg_timestamp=1550264816335&apex_l2_eg_version=1.0&client_id=STG2-MYINFO-SELF-TEST&client_secret=44d953c796cccebcec9bdc826852857ab412fbe2&code=2cd96fa5-265b-4d25-bb0c-96909e3cdf62&grant_type=authorization_code&redirect_uri=http://localhost:3001/callback
Digital Signature:
Signature produced by signing the above Base String with your private key.
adI+787xGOko266zY8TW9Z+OnCbxuW1XEtfm8D4lfBdgrnnlq940AtCTXy641gv4vmAMYlONEM4vLW41hjAGN01LFfn9HNK+CtqoW4iz3LCmV8fUphP1Ki1PNcdejQ/vt45PpYoD1Sj2LBQGj6U20z/cJ4C+6PBu46Vvb7KMX/WhGCQcfrtJE5wKxIHUfFOgJTn+KO+7g/osDqYo2b/x0KlwFIX6ZeZDtloDUzb1dfUWzlZPqVV+Wt7+cJVrktAxH2av9UUjxrz+4eEoqQo2NliJf1OQSdsT1NmvLAX2YcvHEVgMH+KkkKAUckB6rmXl2RxnTHbLjUH8G1L8Rsc4VA==
Request Header for Token API:
{"Content-Type":"application/x-www-form-urlencoded","Cache-Control":"no-cache","Authorization":"Apex_l2_eg realm=\"http://localhost:3001\",apex_l2_eg_timestamp=\"1550264816335\",apex_l2_eg_nonce=\"155026481633500\",apex_l2_eg_app_id=\"STG2-MYINFO-SELF-TEST\",apex_l2_eg_signature_method=\"SHA256withRSA\",apex_l2_eg_version=\"1.0\",apex_l2_eg_signature=\"adI+787xGOko266zY8TW9Z+OnCbxuW1XEtfm8D4lfBdgrnnlq940AtCTXy641gv4vmAMYlONEM4vLW41hjAGN01LFfn9HNK+CtqoW4iz3LCmV8fUphP1Ki1PNcdejQ/vt45PpYoD1Sj2LBQGj6U20z/cJ4C+6PBu46Vvb7KMX/WhGCQcfrtJE5wKxIHUfFOgJTn+KO+7g/osDqYo2b/x0KlwFIX6ZeZDtloDUzb1dfUWzlZPqVV+Wt7+cJVrktAxH2av9UUjxrz+4eEoqQo2NliJf1OQSdsT1NmvLAX2YcvHEVgMH+KkkKAUckB6rmXl2RxnTHbLjUH8G1L8Rsc4VA==\""}
Params for Token API:
{"grant_type":"authorization_code","code":"2cd96fa5-265b-4d25-bb0c-96909e3cdf62","redirect_uri":"http://localhost:3001/callback","client_id":"STG2-MYINFO-SELF-TEST","client_secret":"44d953c796cccebcec9bdc826852857ab412fbe2"}
_tokenApiUrl link
https://test.api.myinfo.gov.sg/com/v2/token
https://test.api.myinfo.gov.sg/com/v2/token
(node:11870) Warning: Setting the NODE_TLS_REJECT_UNAUTHORIZED environment variable to '0' makes TLS connections and HTTPS requests insecure by disabling certificate verification.
GET /js/main.js 304 0.925 ms - -
GET /components/bootstrap/js/bootstrap.min.js 304 0.897 ms - -
GET /components/scrollreveal/scrollreveal.min.js 304 0.885 ms - -
GET /components/magnific-popup/jquery.magnific-popup.min.js 304 0.893 ms - -
GET /js/creative.js 304 0.884 ms - -
GET /images/form-link.png 304 0.177 ms - -
GET /getEnv 304 0.550 ms - -
Response from Token API:
{"access_token":"eyJ0eXAiOiJKV1QiLCJ6aXAiOiJOT05FIiwia2lkIjoiQWxkTzFsenNDSW5ycEFRMkZGMjlvSnNBR0hrPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJTOTkxMjM2OUkiLCJhdXRoX2xldmVsIjowLCJhdWRpdFRyYWNraW5nSWQiOiI4YTYxMTMxMC02YmVkLTRjZGQtYmQ3MC0xZWIxNDJhN2FiNjgiLCJpc3MiOiJodHRwczovL3N0Zy1ob21lLnNpbmdwYXNzLmdvdi5zZy9jb25zZW50L29hdXRoMi9jb25zZW50L215aW5mby1jb20iLCJ0b2tlbk5hbWUiOiJhY2Nlc3NfdG9rZW4iLCJ0b2tlbl90eXBlIjoiQmVhcmVyIiwiYXV0aEdyYW50SWQiOiI4OWFmYWFiMy1kY2E2LTRiMDItODZiMS1kOTczNjAwNTVkMGEiLCJhdWQiOiJteWluZm8iLCJuYmYiOjE1NTAyNjQ4MjAsImdyYW50X3R5cGUiOiJhdXRob3JpemF0aW9uX2NvZGUiLCJzY29wZSI6WyJlZHVsZXZlbCIsIm1vYmlsZW5vIiwiYXNzZXNzYWJsZWluY29tZSIsIm93bmVycHJpdmF0ZSIsImhvdXNpbmd0eXBlIiwiY3BmYmFsYW5jZXMiLCJuYXRpb25hbGl0eSIsImRvYiIsIm5hbWUiLCJyZWdhZGQiLCJjcGZjb250cmlidXRpb25zIiwiZW1haWwiLCJyYWNlIiwic2V4IiwiaGRidHlwZSIsIm1hcml0YWwiLCJhc3Nlc3N5ZWFyIl0sImF1dGhfdGltZSI6MTU1MDI2NDgxMDAwMCwicmVhbG0iOiIvY29uc2VudC9teWluZm8tY29tIiwiZXhwIjoxNTUwMjY2NjIwLCJpYXQiOjE1NTAyNjQ4MjAsImV4cGlyZXNfaW4iOjE4MDAsImp0aSI6ImUxY2Y2NmRhLWMxODQtNDQzOS04YWViLThlN2MwMzViZjMxZCJ9.RpX7NkGLRhT4sbmaVhpE9WtyhOT9ra8FX9uuVBe82zgYa7B3ltYRa6iYlXRYhsCtUwmkU1X7DWwCguRj2BBlmYbr6vGyU26VmHqCCyShmLr4LNoy7Dugz7DR6wKGgeiUvtvwMz6pJHx94gyv-HuuCjLyzi0ao1Feq8GfTWCGXp_15kidVc6wGc4EwbriklMP8yD_H-Sw6S4La6qsAh6wFidlh7Lr-DQ50m86oReCDesq2cAjG83cFWBHjsnq3rWGL7RXdgd4AYHvvXrcKs0CjMsFMJw4TMMcRQMl1sC6XKI4y-yPS0Bk8gofRjJu0YoTJYqXBuWnAHfmk08iCMMLaA","scope":"edulevel mobileno assessableincome ownerprivate housingtype cpfbalances nationality dob name regadd cpfcontributions email race sex hdbtype marital assessyear","token_type":"Bearer","expires_in":1798}
AUTH_LEVEL: L2
Decoded Access Token:
{"sub":"S9912369I","auth_level":0,"auditTrackingId":"8a611310-6bed-4cdd-bd70-1eb142a7ab68","iss":"https://stg-home.singpass.gov.sg/consent/oauth2/consent/myinfo-com","tokenName":"access_token","token_type":"Bearer","authGrantId":"89afaab3-dca6-4b02-86b1-d97360055d0a","aud":"myinfo","nbf":1550264820,"grant_type":"authorization_code","scope":["edulevel","mobileno","assessableincome","ownerprivate","housingtype","cpfbalances","nationality","dob","name","regadd","cpfcontributions","email","race","sex","hdbtype","marital","assessyear"],"auth_time":1550264810000,"realm":"/consent/myinfo-com","exp":1550266620,"iat":1550264820,"expires_in":1800,"jti":"e1cf66da-c184-4439-8aeb-8e7c035bf31d"}
baseParams=undefined
baseParamsStr11111=apex_l2_eg_app_id=STG2-MYINFO-SELF-TEST&apex_l2_eg_nonce=155026482110800&apex_l2_eg_signature_method=SHA256withRSA&apex_l2_eg_timestamp=1550264821108&apex_l2_eg_version=1.0&attributes=name%2Csex%2Crace%2Cnationality%2Cdob%2Cemail%2Cmobileno%2Cregadd%2Chousingtype%2Chdbtype%2Cmarital%2Cedulevel%2Cassessableincome%2Cownerprivate%2Cassessyear%2Ccpfcontributions%2Ccpfbalances&client_id=STG2-MYINFO-SELF-TEST
baseParamsStr22222=apex_l2_eg_app_id=STG2-MYINFO-SELF-TEST&apex_l2_eg_nonce=155026482110800&apex_l2_eg_signature_method=SHA256withRSA&apex_l2_eg_timestamp=1550264821108&apex_l2_eg_version=1.0&attributes=name,sex,race,nationality,dob,email,mobileno,regadd,housingtype,hdbtype,marital,edulevel,assessableincome,ownerprivate,assessyear,cpfcontributions,cpfbalances&client_id=STG2-MYINFO-SELF-TEST
baseString=GET&https://test.api.myinfo.gov.sg/com/v2/person/S9912369I/&apex_l2_eg_app_id=STG2-MYINFO-SELF-TEST&apex_l2_eg_nonce=155026482110800&apex_l2_eg_signature_method=SHA256withRSA&apex_l2_eg_timestamp=1550264821108&apex_l2_eg_version=1.0&attributes=name,sex,race,nationality,dob,email,mobileno,regadd,housingtype,hdbtype,marital,edulevel,assessableincome,ownerprivate,assessyear,cpfcontributions,cpfbalances&client_id=STG2-MYINFO-SELF-TEST
Formulated Base String
Base String generated by your application that will be signed using your private key.
GET&https://test.api.myinfo.gov.sg/com/v2/person/S9912369I/&apex_l2_eg_app_id=STG2-MYINFO-SELF-TEST&apex_l2_eg_nonce=155026482110800&apex_l2_eg_signature_method=SHA256withRSA&apex_l2_eg_timestamp=1550264821108&apex_l2_eg_version=1.0&attributes=name,sex,race,nationality,dob,email,mobileno,regadd,housingtype,hdbtype,marital,edulevel,assessableincome,ownerprivate,assessyear,cpfcontributions,cpfbalances&client_id=STG2-MYINFO-SELF-TEST
Digital Signature:
Signature produced by signing the above Base String with your private key.
FitDaeJoVaTAxUPHWwW80fb7CNgidg6kuwwvjghTNbvPxG19zDjS827FBUHdypzNTmoKCq75WZRLddB/QpNHPNnM/pLKi2bST9XZTE6XcBsUxGuas3N8gURsCaC/qk1gwoT9EBV6YCZbP7REdMPt5VzmSa5jjfafYUUbtm5HJlPhaLWVa41QuEbmGzqrM7aJT/R0jgzZJouBJHbqrIDsOPOLYU7LXCcoR7UdaazkQQY27rguuvyPrx10rpTPsQ1M0KMk7wsJnCEfK4y78EWEPXSz46ohvsyuJFVComLZLKTtb+WkPPgoG0c1fwOwXyvhxfYnH6LQglfPTISmE42AOw==
Request Header for Person API:
{"Cache-Control":"no-cache","Authorization":"Apex_l2_eg realm=\"http://localhost:3001\",apex_l2_eg_timestamp=\"1550264821108\",apex_l2_eg_nonce=\"155026482110800\",apex_l2_eg_app_id=\"STG2-MYINFO-SELF-TEST\",apex_l2_eg_signature_method=\"SHA256withRSA\",apex_l2_eg_version=\"1.0\",apex_l2_eg_signature=\"FitDaeJoVaTAxUPHWwW80fb7CNgidg6kuwwvjghTNbvPxG19zDjS827FBUHdypzNTmoKCq75WZRLddB/QpNHPNnM/pLKi2bST9XZTE6XcBsUxGuas3N8gURsCaC/qk1gwoT9EBV6YCZbP7REdMPt5VzmSa5jjfafYUUbtm5HJlPhaLWVa41QuEbmGzqrM7aJT/R0jgzZJouBJHbqrIDsOPOLYU7LXCcoR7UdaazkQQY27rguuvyPrx10rpTPsQ1M0KMk7wsJnCEfK4y78EWEPXSz46ohvsyuJFVComLZLKTtb+WkPPgoG0c1fwOwXyvhxfYnH6LQglfPTISmE42AOw==\",Bearer eyJ0eXAiOiJKV1QiLCJ6aXAiOiJOT05FIiwia2lkIjoiQWxkTzFsenNDSW5ycEFRMkZGMjlvSnNBR0hrPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJTOTkxMjM2OUkiLCJhdXRoX2xldmVsIjowLCJhdWRpdFRyYWNraW5nSWQiOiI4YTYxMTMxMC02YmVkLTRjZGQtYmQ3MC0xZWIxNDJhN2FiNjgiLCJpc3MiOiJodHRwczovL3N0Zy1ob21lLnNpbmdwYXNzLmdvdi5zZy9jb25zZW50L29hdXRoMi9jb25zZW50L215aW5mby1jb20iLCJ0b2tlbk5hbWUiOiJhY2Nlc3NfdG9rZW4iLCJ0b2tlbl90eXBlIjoiQmVhcmVyIiwiYXV0aEdyYW50SWQiOiI4OWFmYWFiMy1kY2E2LTRiMDItODZiMS1kOTczNjAwNTVkMGEiLCJhdWQiOiJteWluZm8iLCJuYmYiOjE1NTAyNjQ4MjAsImdyYW50X3R5cGUiOiJhdXRob3JpemF0aW9uX2NvZGUiLCJzY29wZSI6WyJlZHVsZXZlbCIsIm1vYmlsZW5vIiwiYXNzZXNzYWJsZWluY29tZSIsIm93bmVycHJpdmF0ZSIsImhvdXNpbmd0eXBlIiwiY3BmYmFsYW5jZXMiLCJuYXRpb25hbGl0eSIsImRvYiIsIm5hbWUiLCJyZWdhZGQiLCJjcGZjb250cmlidXRpb25zIiwiZW1haWwiLCJyYWNlIiwic2V4IiwiaGRidHlwZSIsIm1hcml0YWwiLCJhc3Nlc3N5ZWFyIl0sImF1dGhfdGltZSI6MTU1MDI2NDgxMDAwMCwicmVhbG0iOiIvY29uc2VudC9teWluZm8tY29tIiwiZXhwIjoxNTUwMjY2NjIwLCJpYXQiOjE1NTAyNjQ4MjAsImV4cGlyZXNfaW4iOjE4MDAsImp0aSI6ImUxY2Y2NmRhLWMxODQtNDQzOS04YWViLThlN2MwMzViZjMxZCJ9.RpX7NkGLRhT4sbmaVhpE9WtyhOT9ra8FX9uuVBe82zgYa7B3ltYRa6iYlXRYhsCtUwmkU1X7DWwCguRj2BBlmYbr6vGyU26VmHqCCyShmLr4LNoy7Dugz7DR6wKGgeiUvtvwMz6pJHx94gyv-HuuCjLyzi0ao1Feq8GfTWCGXp_15kidVc6wGc4EwbriklMP8yD_H-Sw6S4La6qsAh6wFidlh7Lr-DQ50m86oReCDesq2cAjG83cFWBHjsnq3rWGL7RXdgd4AYHvvXrcKs0CjMsFMJw4TMMcRQMl1sC6XKI4y-yPS0Bk8gofRjJu0YoTJYqXBuWnAHfmk08iCMMLaA"}
Person Data (JWE):
eyJhbGciOiJSU0EtT0FFUCIsImVuYyI6IkEyNTZHQ00iLCJraWQiOiJzdGctbXlpbmZvIn0.kh4ZOVnixZS4yF9Q_58SUJn3Sgqyvu4UtZ39sct8MurcT8ovGpRzcYvNqLTji965qzM3jZXQVKCmBtmmEz8rNJ5uGdfmlWdIAILZPsIXBvPj5-QjO-UsiAJWa1m7h7o2UcJf8_R1BpsqphJSRMg_3TYZCSokHd8kM-UuyM6P_LT-IUjm3_q-41VZAOMJDdyc8iKucRbq3wD58NxaY7JI6qyxR5g7i0Xd1g_1Fbu5V4XdbstWnAu385I8yhKZGZSWz4ZMu2jPSpWwQeFoFsGYSCcgncvJd35Wv-RCb5JPgexaSmQNJ6POtsNRdZgZzxVe27omfLxPulTa_n23d41-dA._v8406AD_Xtq_pW8.JprJV9lj6oW6yvS6DxEKa9gVDGbhW4LfA93GEpBIjkXWkhT_ubpHB4JC_oyIOsIAExvjIDxiWqfC7TEFpQCIfG5-udI2f1Hm1snSHLln5ZHgGmY8Jwjk60XVPQIzt-RtcoPVd3wqEJjbCnDnVRKBOh6Ic4UQ5_dctk0gjBgGINGKD0sjqPa7syO5E3ugCzmA1Egf86rvKc8lIis9wv75BiZ4FYqaUz2s63XSMhxE5Wcj5vyDKp45neEZFls7GT6pH-H3zHcBX6HLnsH0owTUW5zNHGYDxO6YQEChtsf6PZyKIkCDgjyvqAtI6rjQbhmTwRf-Cc5gEhHeMb1fFtWTrP_o2n5i9mTRXdK46sETNNxGCQFFnB_-YVm72_Kl4JZoRuCvIZCrI53-ycY4KTazGn4p4yOBX02J4koRp0dGPo9s-b-kGX5zJS_iu-0w12MDmbkFjObNPf3ghcEeBz9S1MwcVbO0U3TKpYdJiV7QbbY6HlplajFBloJXhaNmp4WW2VqJfqK8tuwmBQSeZ9P6rctB4MFCzsVw8STOcGe-bTxbtOpDIXCp_s2siOKdQaydmvFKeJnkxWcLuootxUBKYPhzndXSCSYhU9gXqZt4OeszSYxJZ_wbZ7hRX-MBnLtozQtWCLoQ1RV_PRcgClsb5sfKwy5ptVc1k-nwoDfRb1lPueDiKDGG7VEeCN_11vuUBjB_zceKliWM5KntTc4bok-wfO5MzsdOWsGuNECXKIgiopex25uTHDMxd8X5luXpGu-dyEsFh-_AxxGVYW9t0pOYu-A1SrX5LZhRbLXRuqyDY6MJ6aX8IwZsR5wr6_yEBAk71cGoaVh-eBbKukVYSiY1XHuBucL9_5zMoFJEiwCJEVnIEYsKIVjhJUhkqrG9_PD5P_l5v1qkVUXskdg8A08ExfKKfJV9oHMeTPmI6CxTWqRKjq6tvw2TQYBM5lPeYsz9SwLSBV-F-8DuZffU2Y5vyq8USWkQ5h27ciQkBsH52SgXbdTugVTcHd-IgIURh2lfXfFU48Fsnf3xTCoMUlp7ApDMjqmjq-rME355l1kbiGvQU1hYoZ5kb57V0BeOocdaQpSEqB5uK2zbgXjxyJLuiRpQBt-m0l91UB23WBpo70BJ6WvdHBwnyWwxxS_5dabeZVGbsCnmrHZa20PXI5dKfqSDGc4LGaE_I2bmn9FdDdT0yeMMaXNps5GDrX3hPOwD4v3SZa6qElQ9jt4EtYgBr9d7KgNzv9fpQL6j-OdgKp60jgKcIj1ltzliTdXzXJpbmNdp6dysH6Yjzrs3T4TbtnvyvWW-xp4OYrFHQI4PhiauBkXsV6FlJTb4G9joycgLxN88BZYBQaFyIw49wK6HIHIjHxHNNB8akhudqWjfjg1KGLZalxYjfe1CgVw2gltBCw8yK43h_kj3jlcq8nOaQ0FFBiJxzy6KqPwfa7Z4LSP3xKauqCZGdBRZrOgQ70Ag3azDUbNvVVYY70KfVcPRyW5caiCZtfW6TwdAEP6Sjyx3QbDdSO1qVmTeyrosbbErNlScBVvGJwyVlV97qAI1QzsVSJqIhqbwvqWeh56TGAPcl88Is2NoBQkVp9-lwFURA-WcqJSMKz6qZxKg6imVirHSCp3EEshDAlvhT7mgkI1DgnRP4EeN6xX14gmQsIa2DUSzl6qtBCHkQEiXXbHwRe0oLOrH4vgv_cf2f5OWVYlZp-yeLejypImh3Hnb0woK42_W9O0KUm_S9-JKT0gKzVE38GdGMvD5lDjiYho1YOs1jacdxR5F-O9movtc41H0zz7lYlTYDLco3QQgjlwXNvDrVdNpnOY32w_IBj3iq0B1VCP236_fKyxGHhD2_459Na49NiJNPGMstFQGHF6Awur-XbMg3OIpYRWEQrRR_8s-jd3zQf0tppi_c53L1ZMn9cV6Jkcm7WPDUl0GTAD7BQYPzU46AM6S2NRFazqiiI3xcTrvk_wjpBIR6dXKfB7XyQhSRyA7MfCHJOYddBceht5hxdyfXXw71OByc-lOIhwf-deqBxyKDaE1dNSiEOG2T-x5EdWIWP9DlalU_zqjM8mV9_15ivFHVfm8hotTc7IxFobzGLn-6-eg88-zJI9Pn6kQ7IkTmSQZMBWP8rxrXmYBDOG5KNnYDK4EA6EEWEEPehToqKGsFS_4OF41HinCtY4usfkyrPSTShrr7-yv9OKyqLmNmFMTBHSlGUszXEFdu4AeawCW74X0m_WnYxL_TIiEpdj-48QXjuWMA0eYuqUoGruNT2aGTYQQWWInCAtrtao0QzqH086SByIzOSqoDE2tWWsVsHMEALrkyn3jrpViR5SLqaPSghn8KT7tirBseNM7YYdT13XBIGG_csp7fdCpkYyN5JxfqrwFpj-yvcTduumSGV91mKguUPY7EkqZs61MLiGe-FqAGQqdpvbUM8QBY4aSfW2WNEnbW7LQY7xQqZtgpRq37doDeVfdZGX0r5HWBTmelKewK5AIeLzdUvgvdh6bdBui_QUFYLYNNUT9c7nl3TCRcR6eN-hrnHT0Lil_CPVlAoLVrTeoji6zqQd5IQNjBZzzqoLiqJ0K7H1MdGTGRtzBjVQDIDzIVx6j72I18OegKa0-ksbrxklbxnOxAZ3oKVdRde9MfPVPRub9JezOFEGOxkP2mFHhvQOSkq7xqQno5eMobX2b9fIWMMbsgPUEkNNlVvwcuWdEo0ei3dwP70bgYkBR_L_9PlmQd3jTAB8NLwdkqr2UUjTBZr_25mqDvLDNzZajnMQ4G0nZFeo6TDkv7MpmRWVYV63M7Ib4kjks5pjaw-COOYx74Pposcg63ohQqMHJGbVtL6xw96l-z2eG_JMwEYyijq61LdXy4mCPgJ7vEWHtLB_K2WkdA5iSwT0EA4I1tFTLNYuzLAFPj-7ybw7YkZ7OqbMMOYJg6dq3NIQA-wlaRMU3YGB516iMVbzHXBF4q6U1uqwuLPKn7I0NVApHH2vooflQfbtc2AxkH9ou5ANdAXbWEy3KEKeqonBp3ims6tSe_59-d7nsZBfwY3Z2SSjUI9RwGSrrNMyS2B5OiRROXDWgoLXuDWGjLAHQUipXr6JB-bfILuRkpcbeD5D8KCN5gNAXfXiESBN9AhUm41xbQo3DOhvXIK0qOBSbKndX3YIaJ2DcLt5G1gqfi2vm2MUFpBjEJRAGOOzwMYDU9AZgI0yPUkR7heCXOL_LpW-k05hNlnCAl8VdyMHYjcxouO9r-kegNn_L82Bljy5XgF-cVnR4W02McL8ZhPZKtqA3EUQqX67E3vmhGwcvo6_6PvEVBEn9BBZBA5qpOGsf-UT_VILKMO3MBF5yTu_Jz4zRPhe2PwxHw9Pz1aJeKzwVf5eE2jwae7qs52jgeT1XgaZIQS8Tdk77A0iesvajNDgqEBrdv2S7-uG8JAcsTuqMj-iSFsGvghfOTBJrfC71Zppuh6WjoGmzjpsNczcwcwY6gxiBhNVaYlegWc6RuxRe75R6t2PhvGb8KqJYiNrkv8v0ISr42tHuF3ShA5KfKv2j5wzIteHEjhQ4XdjvU7UFaQiGhDyD4kqlro3fNnu0XlDA_FKoEQJr_oJkCEZs30vtiogd2vU_TT5rLLsnDeO7MbCPfB4Gr53xGbl6TspPbuZYtrCBrKOIVPjX5guDQCIC4ZUOXt6Xd7KBaz9lPpZx1CH4J2RcKDEnlJkwleuCwxjrOEnmUbPTrwmmAmJITkWOVBixmEqu8eopbOBy9Npk1m7jZQfUc0fZcFxipVKDLWvYpHeeCa5wYwDC-vMIj6ZyFUhmxCNr9BofKoiss1R-TcnFXi6VxYSkiGambzQDFJu94GjvxpyB6rI3mfU33-um_sNZK1rrcqvtZ33hlz_zMKWCntFngcidvTuAQD_VbVYF4c9qJ733pbRuq95BozuHO5NERmg1n-0k2rr1pFaltI0sdGzcEFAFgr_4m7Woiyu1fDmhhdQ-Gda1PtknK3xw99iv715bh1yI53h0ILAFCVEqRHka7yEnHi8U.Bq_Jd6JC0L8USAHFrz_DRA
Decrypting JWE (Format: header.encryptedKey.iv.cipherText.tag)
eyJhbGciOiJSU0EtT0FFUCIsImVuYyI6IkEyNTZHQ00iLCJraWQiOiJzdGctbXlpbmZvIn0.kh4ZOVnixZS4yF9Q_58SUJn3Sgqyvu4UtZ39sct8MurcT8ovGpRzcYvNqLTji965qzM3jZXQVKCmBtmmEz8rNJ5uGdfmlWdIAILZPsIXBvPj5-QjO-UsiAJWa1m7h7o2UcJf8_R1BpsqphJSRMg_3TYZCSokHd8kM-UuyM6P_LT-IUjm3_q-41VZAOMJDdyc8iKucRbq3wD58NxaY7JI6qyxR5g7i0Xd1g_1Fbu5V4XdbstWnAu385I8yhKZGZSWz4ZMu2jPSpWwQeFoFsGYSCcgncvJd35Wv-RCb5JPgexaSmQNJ6POtsNRdZgZzxVe27omfLxPulTa_n23d41-dA._v8406AD_Xtq_pW8.JprJV9lj6oW6yvS6DxEKa9gVDGbhW4LfA93GEpBIjkXWkhT_ubpHB4JC_oyIOsIAExvjIDxiWqfC7TEFpQCIfG5-udI2f1Hm1snSHLln5ZHgGmY8Jwjk60XVPQIzt-RtcoPVd3wqEJjbCnDnVRKBOh6Ic4UQ5_dctk0gjBgGINGKD0sjqPa7syO5E3ugCzmA1Egf86rvKc8lIis9wv75BiZ4FYqaUz2s63XSMhxE5Wcj5vyDKp45neEZFls7GT6pH-H3zHcBX6HLnsH0owTUW5zNHGYDxO6YQEChtsf6PZyKIkCDgjyvqAtI6rjQbhmTwRf-Cc5gEhHeMb1fFtWTrP_o2n5i9mTRXdK46sETNNxGCQFFnB_-YVm72_Kl4JZoRuCvIZCrI53-ycY4KTazGn4p4yOBX02J4koRp0dGPo9s-b-kGX5zJS_iu-0w12MDmbkFjObNPf3ghcEeBz9S1MwcVbO0U3TKpYdJiV7QbbY6HlplajFBloJXhaNmp4WW2VqJfqK8tuwmBQSeZ9P6rctB4MFCzsVw8STOcGe-bTxbtOpDIXCp_s2siOKdQaydmvFKeJnkxWcLuootxUBKYPhzndXSCSYhU9gXqZt4OeszSYxJZ_wbZ7hRX-MBnLtozQtWCLoQ1RV_PRcgClsb5sfKwy5ptVc1k-nwoDfRb1lPueDiKDGG7VEeCN_11vuUBjB_zceKliWM5KntTc4bok-wfO5MzsdOWsGuNECXKIgiopex25uTHDMxd8X5luXpGu-dyEsFh-_AxxGVYW9t0pOYu-A1SrX5LZhRbLXRuqyDY6MJ6aX8IwZsR5wr6_yEBAk71cGoaVh-eBbKukVYSiY1XHuBucL9_5zMoFJEiwCJEVnIEYsKIVjhJUhkqrG9_PD5P_l5v1qkVUXskdg8A08ExfKKfJV9oHMeTPmI6CxTWqRKjq6tvw2TQYBM5lPeYsz9SwLSBV-F-8DuZffU2Y5vyq8USWkQ5h27ciQkBsH52SgXbdTugVTcHd-IgIURh2lfXfFU48Fsnf3xTCoMUlp7ApDMjqmjq-rME355l1kbiGvQU1hYoZ5kb57V0BeOocdaQpSEqB5uK2zbgXjxyJLuiRpQBt-m0l91UB23WBpo70BJ6WvdHBwnyWwxxS_5dabeZVGbsCnmrHZa20PXI5dKfqSDGc4LGaE_I2bmn9FdDdT0yeMMaXNps5GDrX3hPOwD4v3SZa6qElQ9jt4EtYgBr9d7KgNzv9fpQL6j-OdgKp60jgKcIj1ltzliTdXzXJpbmNdp6dysH6Yjzrs3T4TbtnvyvWW-xp4OYrFHQI4PhiauBkXsV6FlJTb4G9joycgLxN88BZYBQaFyIw49wK6HIHIjHxHNNB8akhudqWjfjg1KGLZalxYjfe1CgVw2gltBCw8yK43h_kj3jlcq8nOaQ0FFBiJxzy6KqPwfa7Z4LSP3xKauqCZGdBRZrOgQ70Ag3azDUbNvVVYY70KfVcPRyW5caiCZtfW6TwdAEP6Sjyx3QbDdSO1qVmTeyrosbbErNlScBVvGJwyVlV97qAI1QzsVSJqIhqbwvqWeh56TGAPcl88Is2NoBQkVp9-lwFURA-WcqJSMKz6qZxKg6imVirHSCp3EEshDAlvhT7mgkI1DgnRP4EeN6xX14gmQsIa2DUSzl6qtBCHkQEiXXbHwRe0oLOrH4vgv_cf2f5OWVYlZp-yeLejypImh3Hnb0woK42_W9O0KUm_S9-JKT0gKzVE38GdGMvD5lDjiYho1YOs1jacdxR5F-O9movtc41H0zz7lYlTYDLco3QQgjlwXNvDrVdNpnOY32w_IBj3iq0B1VCP236_fKyxGHhD2_459Na49NiJNPGMstFQGHF6Awur-XbMg3OIpYRWEQrRR_8s-jd3zQf0tppi_c53L1ZMn9cV6Jkcm7WPDUl0GTAD7BQYPzU46AM6S2NRFazqiiI3xcTrvk_wjpBIR6dXKfB7XyQhSRyA7MfCHJOYddBceht5hxdyfXXw71OByc-lOIhwf-deqBxyKDaE1dNSiEOG2T-x5EdWIWP9DlalU_zqjM8mV9_15ivFHVfm8hotTc7IxFobzGLn-6-eg88-zJI9Pn6kQ7IkTmSQZMBWP8rxrXmYBDOG5KNnYDK4EA6EEWEEPehToqKGsFS_4OF41HinCtY4usfkyrPSTShrr7-yv9OKyqLmNmFMTBHSlGUszXEFdu4AeawCW74X0m_WnYxL_TIiEpdj-48QXjuWMA0eYuqUoGruNT2aGTYQQWWInCAtrtao0QzqH086SByIzOSqoDE2tWWsVsHMEALrkyn3jrpViR5SLqaPSghn8KT7tirBseNM7YYdT13XBIGG_csp7fdCpkYyN5JxfqrwFpj-yvcTduumSGV91mKguUPY7EkqZs61MLiGe-FqAGQqdpvbUM8QBY4aSfW2WNEnbW7LQY7xQqZtgpRq37doDeVfdZGX0r5HWBTmelKewK5AIeLzdUvgvdh6bdBui_QUFYLYNNUT9c7nl3TCRcR6eN-hrnHT0Lil_CPVlAoLVrTeoji6zqQd5IQNjBZzzqoLiqJ0K7H1MdGTGRtzBjVQDIDzIVx6j72I18OegKa0-ksbrxklbxnOxAZ3oKVdRde9MfPVPRub9JezOFEGOxkP2mFHhvQOSkq7xqQno5eMobX2b9fIWMMbsgPUEkNNlVvwcuWdEo0ei3dwP70bgYkBR_L_9PlmQd3jTAB8NLwdkqr2UUjTBZr_25mqDvLDNzZajnMQ4G0nZFeo6TDkv7MpmRWVYV63M7Ib4kjks5pjaw-COOYx74Pposcg63ohQqMHJGbVtL6xw96l-z2eG_JMwEYyijq61LdXy4mCPgJ7vEWHtLB_K2WkdA5iSwT0EA4I1tFTLNYuzLAFPj-7ybw7YkZ7OqbMMOYJg6dq3NIQA-wlaRMU3YGB516iMVbzHXBF4q6U1uqwuLPKn7I0NVApHH2vooflQfbtc2AxkH9ou5ANdAXbWEy3KEKeqonBp3ims6tSe_59-d7nsZBfwY3Z2SSjUI9RwGSrrNMyS2B5OiRROXDWgoLXuDWGjLAHQUipXr6JB-bfILuRkpcbeD5D8KCN5gNAXfXiESBN9AhUm41xbQo3DOhvXIK0qOBSbKndX3YIaJ2DcLt5G1gqfi2vm2MUFpBjEJRAGOOzwMYDU9AZgI0yPUkR7heCXOL_LpW-k05hNlnCAl8VdyMHYjcxouO9r-kegNn_L82Bljy5XgF-cVnR4W02McL8ZhPZKtqA3EUQqX67E3vmhGwcvo6_6PvEVBEn9BBZBA5qpOGsf-UT_VILKMO3MBF5yTu_Jz4zRPhe2PwxHw9Pz1aJeKzwVf5eE2jwae7qs52jgeT1XgaZIQS8Tdk77A0iesvajNDgqEBrdv2S7-uG8JAcsTuqMj-iSFsGvghfOTBJrfC71Zppuh6WjoGmzjpsNczcwcwY6gxiBhNVaYlegWc6RuxRe75R6t2PhvGb8KqJYiNrkv8v0ISr42tHuF3ShA5KfKv2j5wzIteHEjhQ4XdjvU7UFaQiGhDyD4kqlro3fNnu0XlDA_FKoEQJr_oJkCEZs30vtiogd2vU_TT5rLLsnDeO7MbCPfB4Gr53xGbl6TspPbuZYtrCBrKOIVPjX5guDQCIC4ZUOXt6Xd7KBaz9lPpZx1CH4J2RcKDEnlJkwleuCwxjrOEnmUbPTrwmmAmJITkWOVBixmEqu8eopbOBy9Npk1m7jZQfUc0fZcFxipVKDLWvYpHeeCa5wYwDC-vMIj6ZyFUhmxCNr9BofKoiss1R-TcnFXi6VxYSkiGambzQDFJu94GjvxpyB6rI3mfU33-um_sNZK1rrcqvtZ33hlz_zMKWCntFngcidvTuAQD_VbVYF4c9qJ733pbRuq95BozuHO5NERmg1n-0k2rr1pFaltI0sdGzcEFAFgr_4m7Woiyu1fDmhhdQ-Gda1PtknK3xw99iv715bh1yI53h0ILAFCVEqRHka7yEnHi8U.Bq_Jd6JC0L8USAHFrz_DRA
{"alg":"RSA-OAEP","enc":"A256GCM","kid":"stg-myinfo"}
(node:11870) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
Person Data (Decoded):
{"name":{"lastupdated":"2018-03-20","source":"1","classification":"C","value":"PATRICIA KIM WAI MUN"},"sex":{"lastupdated":"2018-03-20","source":"1","classification":"C","value":"F"},"race":{"lastupdated":"2018-03-23","source":"1","classification":"C","value":"MX"},"nationality":{"lastupdated":"2018-03-20","source":"1","classification":"C","value":"SG"},"dob":{"lastupdated":"2018-03-20","source":"1","classification":"C","value":"1999-10-06"},"email":{"lastupdated":"2018-08-23","source":"4","classification":"C","value":"myinfotesting@gmail.com"},"mobileno":{"lastupdated":"2018-08-23","code":"65","source":"4","classification":"C","prefix":"+","nbr":"97399245"},"regadd":{"country":"SG","unit":"11","street":"BEDOK RESERVOIR ROAD","lastupdated":"2018-03-20","block":"113","source":"1","postal":"470113","classification":"C","floor":"03","building":"EUNOS VISTA"},"housingtype":{"lastupdated":"2018-03-21","source":"1","classification":"C","value":""},"hdbtype":{"lastupdated":"","source":"1","classification":"C","value":"114"},"marital":{"lastupdated":"2018-03-21","source":"1","classification":"C","value":"2"},"edulevel":{"lastupdated":"2017-10-11","source":"2","classification":"C","value":"9"},"assessableincome":{"lastupdated":"2017-03-16","source":"1","classification":"C","value":"923456789.00"},"ownerprivate":{"lastupdated":"2017-04-26","source":"1","classification":"C","value":"N"},"assessyear":{"lastupdated":"2017-03-16","source":"1","classification":"C","value":"2018"},"cpfcontributions":{"lastupdated":"2017-03-16","cpfcontribution":[{"date":"2614-12-28","employer":"AAS SISTEMAS PTE LTD","amount":"5626.67","month":"2014-12"},{"date":"2615-01-28","employer":"AAS SISTEMAS PTE LTD","amount":"5626.67","month":"2015-01"},{"date":"2615-02-28","employer":"AAS SISTEMAS PTE LTD","amount":"5626.67","month":"2015-02"},{"date":"2615-03-28","employer":"AAS SISTEMAS PTE LTD","amount":"5626.67","month":"2015-03"},{"date":"2615-04-28","employer":"AAS SISTEMAS PTE LTD","amount":"5626.67","month":"2015-04"},{"date":"2615-05-28","employer":"AAS SISTEMAS PTE LTD","amount":"5626.67","month":"2015-05"},{"date":"2615-06-28","employer":"AAS SISTEMAS PTE LTD","amount":"5626.67","month":"2015-06"},{"date":"2615-07-28","employer":"AAS SISTEMAS PTE LTD","amount":"5626.67","month":"2015-07"},{"date":"2615-08-28","employer":"AAS SISTEMAS PTE LTD","amount":"5626.67","month":"2015-08"},{"date":"2615-09-28","employer":"AAS SISTEMAS PTE LTD","amount":"5626.67","month":"2015-09"},{"date":"2615-10-28","employer":"AAS SISTEMAS PTE LTD","amount":"5626.67","month":"2015-10"},{"date":"2615-11-28","employer":"AAS SISTEMAS PTE LTD","amount":"5626.67","month":"2015-11"},{"date":"2615-12-28","employer":"AAS SISTEMAS PTE LTD","amount":"5626.67","month":"2015-12"},{"date":"2616-01-28","employer":"AAS SISTEMAS PTE LTD","amount":"5626.67","month":"2016-01"}],"source":"1","classification":"C"},"cpfbalances":{"lastupdated":"2017-03-16","oa":"1581.48","source":"1","ma":"21967.09","classification":"C","sa":"11470.70"},"uinfin":"S9912369I"}
POST /getPersonData 200 7825.537 ms - 3062


>>> from cryptography.hazmat.primitives.asymmetric import ec
>>> from cryptography.hazmat.primitives.asymmetric import rsa
>>> 
>>> from jwcrypto import jwa
>>> from jwcrypto import jwe
>>> from jwcrypto import jwk
>>> from jwcrypto import jws
>>> from jwcrypto import jwt
>>> from jwcrypto.common import base64url_decode, base64url_encode
>>> from jwcrypto.common import json_decode, json_encode
>>> with open("./ssl/stg-demoapp-client-privatekey-2018.pem", "rb") as pemfile:  
...     data = pemfile.read() 
... 
>>> data
b'-----BEGIN PRIVATE KEY-----\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDGBRdsiDqKPGyH\ngOpzxmSU2EQkm+zYZLvlPlwkwyfFWLndFLZ3saxJS+LIixsFhunrrUT9ZZ0x+bB6\nMV55o70z4ABOJRFNWx1wbMGqdiC0Fyfpwad3iYpRVjZO+5etHA9JEoaTPoFxv+kt\nd8kVAL9P5I7/Pi6g1R+B2t2lsaE2bMSwtZqgs55gb7fsCR3Z4nQi7BddYR7MZ2lA\nMWf7h7Dkm6uRlGhl2RvtmYa6dXFnK3RhIpdQOUT3quyhweMGspowC/tYSG+BNhy1\nWukbwhIP5vTAvv1WbHTg+WaUUV+pP0TjPQcY73clHxNpI5zrNqDmwD2rogNfePKR\nUI63yBUfAgMBAAECggEAGy/7xVT25J/jLr+OcRLeIGmJAZW+8P7zpUfoksuQnFHQ\nQwBjBRAJ3Y5jtrESprGdUFRb0oavDHuBtWUt2XmXspWgtRn1xC8sXZExDdxmJRPA\n0SFbgtgJe51gm3uDmarullPK0lCUqS92Ll3x58ZQfgGdeIHrGP3p84Q/Rk6bGcOb\ncPhDYWSOYKm4i2DPM01bnZG2z4BcrWSseOmeWUxqZcMlGz9GAyepUU/EoqRIHxw/\n2Y+TGus1JSy5DdhPE0HAEWKZH729ZdoyikOZCMxApQglUkRwkwhtXzVAemm6OSoy\n3BEWvSEJh/F82tFrmquUoe/xd5JastlBHyD78RAakQKBgQDkHAzo1fowRI19tk7V\nCPn0zMdF/UTRghtLywc/4xnw1Nd13m+orArOdVzPlQokLVNL81dIVKXnId0Hw/kX\n8CRyRYz8tkL81spc39DfalZW7QI7Fschfq1Htgkxd/QEjBlIaqjkOjGSbX9xYjYU\n1Db8PuGoGXWOsYiv9PCsKR056wKBgQDeOzfZSpV5kX8SECJXRA+emyCnO9S29p0W\n+5BCTQp3OPnmbL7b/mGqBVJ0DC+IiN67Lu8xxzejswqLZqaRvmQuioqH+8mOGpXY\nZwhShAif2AuixxvL7OK6dvDmMqoKhBI9nZ9+XI60Cd/LjnWgyFO04uq4otnTukmY\nsSP+fp6wnQKBgEopYH0WjFfDAelcKzcRywouxZ7Yn9Ypoaw7nujDcfydhktY/R5u\niLjk6T7H6tsmLU2lGLx4YNPLa6wJp+ODfKX2PMcwjojbYEFftu3cCaQLPE1vs2AN\nalLFOSnvINOVpOapXq2Mye8cUHHRh1mwQQwzeXQIivLQf2sNjG28lDbvAoGACsh8\n0UJZNmjk7Y9y2yEmUN/eGb9Bdw9IWBEk0tLCKz7MgW3NZQdW3dUcRx1AQTPC+vow\nCQ5NmNfbLyBv/KpsWgXG6wpAoXCQzMtTEA3wDTGCfweCRcbcyYdz8PeMYK4/5FV9\no7gCBKJmBY6IDqEpzqEkGolsYGWtpIcT5Alo0dECgYEA3hzC9NLwumi/1JWm+ASS\nADTO3rrGo9hicG/WKGzSHD5l1f+IO1SfmUN/6i2JjcnE07eYArNrCfbMgkFavj50\n2ne2fSaYM4p0o147O9Ty8jCyY9vuh/ZGid6qUe3TBI6/okWfmYw6FVbRpNfVEeG7\nkPfkDW/JdH7qkWTFbh3eH1k=\n-----END PRIVATE KEY-----\n'
>>> e.deserialize(Issue_136_Contributed_JWE, data)
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
NameError: name 'e' is not defined
>>> e.deserialize(test, data)
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
NameError: name 'e' is not defined
>>>  e = jwe.JWE()
  File "<stdin>", line 1
    e = jwe.JWE()
    ^
IndentationError: unexpected indent
>>> e = jwe.JWE()
>>> e.deserialize(Issue_136_Contributed_JWE,
... 
KeyboardInterrupt
>>> e.deserialize(test, data)
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
  File "/Users/delgemoon/workspace/myinfo-backend/venv/lib/python3.7/site-packages/jwcrypto/jwe.py", line 485, in deserialize
    self.decrypt(key)
  File "/Users/delgemoon/workspace/myinfo-backend/venv/lib/python3.7/site-packages/jwcrypto/jwe.py", line 412, in decrypt
    'key' + repr(self.decryptlog))
jwcrypto.jwe.InvalidJWEData: No recipient matched the provided key["Failed: [ValueError('key is not a JWK object')]"]
>>> e.deserialize(test, jwk.JWK(data))
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
TypeError: __init__() takes 1 positional argument but 2 were given
>>>  prik = jwk.JWK.from_pem(data))
  File "<stdin>", line 1
    prik = jwk.JWK.from_pem(data))
    ^
IndentationError: unexpected indent
>>> prik = jwk.JWK.from_pem(data))
  File "<stdin>", line 1
    prik = jwk.JWK.from_pem(data))
                                 ^
SyntaxError: invalid syntax
>>> prik = jwk.JWK.from_pem(data)
>>> e.deserialize(test, prik)
>>> e.payload
b'{"name":{"lastupdated":"2018-03-20","source":"1","classification":"C","value":"PATRICIA KIM WAI MUN"},"sex":{"lastupdated":"2018-03-20","source":"1","classification":"C","value":"F"},"race":{"lastupdated":"2018-03-23","source":"1","classification":"C","value":"MX"},"nationality":{"lastupdated":"2018-03-20","source":"1","classification":"C","value":"SG"},"dob":{"lastupdated":"2018-03-20","source":"1","classification":"C","value":"1999-10-06"},"email":{"lastupdated":"2018-08-23","source":"4","classification":"C","value":"myinfotesting@gmail.com"},"mobileno":{"lastupdated":"2018-08-23","code":"65","source":"4","classification":"C","prefix":"+","nbr":"97399245"},"regadd":{"country":"SG","unit":"11","street":"BEDOK RESERVOIR ROAD","lastupdated":"2018-03-20","block":"113","source":"1","postal":"470113","classification":"C","floor":"03","building":"EUNOS VISTA"},"housingtype":{"lastupdated":"2018-03-21","source":"1","classification":"C","value":""},"hdbtype":{"lastupdated":"","source":"1","classification":"C","value":"114"},"marital":{"lastupdated":"2018-03-21","source":"1","classification":"C","value":"2"},"edulevel":{"lastupdated":"2017-10-11","source":"2","classification":"C","value":"9"},"assessableincome":{"lastupdated":"2017-03-16","source":"1","classification":"C","value":"923456789.00"},"ownerprivate":{"lastupdated":"2017-04-26","source":"1","classification":"C","value":"N"},"assessyear":{"lastupdated":"2017-03-16","source":"1","classification":"C","value":"2018"},"cpfcontributions":{"lastupdated":"2017-03-16","cpfcontribution":[{"date":"2614-12-28","employer":"AAS SISTEMAS PTE LTD","amount":"5626.67","month":"2014-12"},{"date":"2615-01-28","employer":"AAS SISTEMAS PTE LTD","amount":"5626.67","month":"2015-01"},{"date":"2615-02-28","employer":"AAS SISTEMAS PTE LTD","amount":"5626.67","month":"2015-02"},{"date":"2615-03-28","employer":"AAS SISTEMAS PTE LTD","amount":"5626.67","month":"2015-03"},{"date":"2615-04-28","employer":"AAS SISTEMAS PTE LTD","amount":"5626.67","month":"2015-04"},{"date":"2615-05-28","employer":"AAS SISTEMAS PTE LTD","amount":"5626.67","month":"2015-05"},{"date":"2615-06-28","employer":"AAS SISTEMAS PTE LTD","amount":"5626.67","month":"2015-06"},{"date":"2615-07-28","employer":"AAS SISTEMAS PTE LTD","amount":"5626.67","month":"2015-07"},{"date":"2615-08-28","employer":"AAS SISTEMAS PTE LTD","amount":"5626.67","month":"2015-08"},{"date":"2615-09-28","employer":"AAS SISTEMAS PTE LTD","amount":"5626.67","month":"2015-09"},{"date":"2615-10-28","employer":"AAS SISTEMAS PTE LTD","amount":"5626.67","month":"2015-10"},{"date":"2615-11-28","employer":"AAS SISTEMAS PTE LTD","amount":"5626.67","month":"2015-11"},{"date":"2615-12-28","employer":"AAS SISTEMAS PTE LTD","amount":"5626.67","month":"2015-12"},{"date":"2616-01-28","employer":"AAS SISTEMAS PTE LTD","amount":"5626.67","month":"2016-01"}],"source":"1","classification":"C"},"cpfbalances":{"lastupdated":"2017-03-16","oa":"1581.48","source":"1","ma":"21967.09","classification":"C","sa":"11470.70"}}'
